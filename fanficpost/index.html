<html ng-app="fanficApp">

<head>
    <title>Beach City Bugle Fanfic Post Builder</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.8/clipboard.min.js"></script>
    <script src="fanficpost.js"></script>
    <style>
        body {
            background-color: #303843;
            font-family: Arial, Helvetica, sans-serif;
        }
        
        section {
            border: 1px solid black;
            margin: auto;
            width: 900px;
            background-color: white;
            padding: 1em;
            padding-top: 0;
        }
        
        section.construct > div {
            margin: 1em 0;
        }
        
        section.html {
            text-align: center;
        }
        
        section h3 {
            text-align: center;
        }
        
        section ul {
            columns: 4;
            display: inline-block;
            vertical-align: top;
            margin:0;
            list-style: none;
        }
        
        section label {
            text-align: right;
            width: 150px;
            display: inline-block;
            vertical-align: top;
        }
        
        section input, section textarea {
            width: 500px;
            vertical-align: top;
        }
        
        section.html textarea {
            width: 80%;
            height: 200px;
        }
    </style>
</head>

<body ng-controller="FanficPostController as fanficPost">
    <section class="construct">
        <h3>Build</h3>
        <div>
            <label>New Image Source:</label>
            <input type="url" ng-model="fanficPost.newArt" />
            <button ng-click="fanficPost.AddArt()">Scan</button>
            <br/>
        </div>
        <div ng-if="fanficPost.art">
            <label>Image Source:</label>
            <input type="url" ng-model="fanficPost.art.source" />
            <br/>
            <label>Image Link:</label>
            <input type="url" ng-model="fanficPost.art.image" />
            <br/>
            <label>Alt Text:</label>
            <input type="text" ng-model="fanficPost.art.caption" />
        </div>
        <div>
            <label>Title:</label>
            <input type="text" ng-model="fanficPost.title" />
            <br/>
            <label>Link:</label>
            <input type="url" ng-model="fanficPost.url" />
            <br/>
            <label>Categories:</label>
            <ul>
            <li ng-repeat="category in fanficPost.categories">
                <input type="checkbox" ng-model="category.selected" id="cat{{category.cleanName()}}" style="width:auto;">
                <label for="cat{{category.cleanName()}}" style="color:{{category.color}}; font-weight:bold; width:auto;">{{category.name}}&nbsp;&nbsp;</label>
            </li>
            </ul><br/>
            <label>Author:</label>
            <input type="text" ng-model="fanficPost.author" />
            <br/>
            <label>Description:</label>
            <textarea ng-model="fanficPost.description"></textarea>
            <br/>
            <label>Additional Tags:</label>
            <input type="text" ng-model="fanficPost.additionalTags" />
        </div>
    </section>
    <section class="output">
        <h3>Preview</h3>
        <div class="separator" style="text-align: center;" ng-if="fanficPost.art && fanficPost.art.image">
            <a href="{{fanficPost.art.source}}" target="_blank">
                <img alt="{{fanficPost.art.caption}}" border="0" src="{{fanficPost.art.image}}" title="{{fanficPost.art.caption}}" bcb-sizing="400" />
            </a>
        </div>
        <span ng-if="fanficPost.selectedCategories()" style="font-family: 'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.8px;">
            <b ng-repeat="category in fanficPost.categories" ng-if="category.selected" style="color: {{category.color}};">
                [{{category.name}}]
            </b>      
        </span>
        <div style="text-align: justify; font-size: 14px; line-height: 23.8px; font-family: 'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif;" ng-if="fanficPost.author">
            <br />
            <b>Author:&nbsp;</b>{{fanficPost.author}}
        </div>
        <blockquote ng-if="fanficPost.description" class="tr_bq" style="text-align: justify; font-family: 'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.8px; ">
            <span style="white-space:pre-line;"><b>Description:&nbsp;</b>{{fanficPost.description}}</span>
        </blockquote>
        <b ng-if="fanficPost.url"><a href="{{fanficPost.url}}" target="_blank">{{fanficPost.title}}</a></b>
        <div ng-if='fanficPost.additionalTags' style="text-align: justify; font-family: 'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.8px;">
            <br/>
            <b>Additional Tags:&nbsp;</b>{{fanficPost.additionalTags}}
        </div>
    </section>
    <section class="html">
        <h3>HTML</h3>
        <textarea id="html">{{fanficPost.outputHtml()}}</textarea>
        <br/>
        <button class="clipboard" data-clipboard-target="#html">Copy to Clipboard</button>
    </section>

    <script>
        new Clipboard('.clipboard');
    </script>
</body>

</html>